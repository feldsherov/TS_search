1.Для запуска на hadoop кластере использовать скрипт run.sh, или подобный ему. Важно, чтобы был архив utils.zip, потому что на кластере так и не bs4(кажется не на всех машинах). И еще лежат мои библиотечки для сжатия.

2. После того как завершена mapred задача, копируем весь вывод в одну локальную директорию, например mapred_out.

3. Строим индекс:

./index_builder.py <имя директории с выводом mapred задачи> <путь куда сохранить индекс> <путь до файла с урлами>

4. Сам поиск:

./search.py -i <путь к индексу, который указывали при постороении> -m mode

Скрипт ./search.py поддерживает параметр --help

